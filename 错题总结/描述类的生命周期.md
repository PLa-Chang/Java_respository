## 类的生命周期
- 使用类时，要先使用类加载器将类的字节码从磁盘加载到内存的方法区中，用Class对象表示加载到内存中的类，Class类是JDK中提供的类
- 创建对象时，是根据内存中的Class对象，在堆中分配内存，完成对象的创建
![输入图片说明](../image/%E7%B1%BB%E7%9A%84%E5%A3%B0%E6%98%8E%E5%91%A8%E6%9C%9F.png)

类的生命周期是指类从被加载到虚拟机内存中开始到卸载出内存为止，它的整个生
命周期可以简单概括为 7 个阶段：
- 加载（Loading）
- 验证（Verification）
- 准备（Preparation）
- 解析（Resolution）
- 初始化（Initialization）
- 使用（Using）
- 卸载（Unloading）

其中，验证、准备和解析这三个阶段可以统称为连接（Linking）。
注意：
- 加载类（Loading）是由 **类加载器** 实现加载的
- 类加载后在内存中产生一个 **Class对象** ，来表示被加载类的元数据
- 一个类在内存中 **只加载一次** ，因此一个类只有一个Class对象

![输入图片说明](../image/%E7%B1%BB%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.png)

- 加载阶段：将字节码加载到内存
- 验证阶段：验证代码是否符合虚拟机规范，保证代码运行后不会危害虚拟机自身的
安全
- 准备阶段：正式为类变量分配内存并设置类变量初始值的阶段
- 解析阶段：虚拟机将常量池内的符号引用替换为直接引用的过程
- 初始化阶段：执行初始化是类加载的最后一步，这一步 JVM 才开始真正执行类中定
义的 Java 程序代码
- 卸载阶段：卸载阶段是类的 Class 对象被从内存中回收，释放内存
